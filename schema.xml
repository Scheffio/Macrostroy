<?xml version="1.0" encoding="utf-8"?>
<database name="default" defaultIdMethod="native" namespace="\DB" defaultPhpNamingMethod="underscore">
  <table name="access" idMethod="native" phpName="Access">
    <column name="role_id" phpName="RoleId" type="INTEGER" sqlType="int unsigned" description="ID роли" primaryKey="true" required="true"/>
    <column name="object_viewer" phpName="ObjectViewer" type="BOOLEAN" size="1" description="Просмотр объектов (все, конкретные)" required="true" defaultValue="false"/>
    <column name="manage_objects" phpName="ManageObjects" type="BOOLEAN" size="1" description="CRUD объектов (все, конкретные)" required="true" defaultValue="false"/>
    <column name="manage_volumes" phpName="ManageVolumes" type="BOOLEAN" size="1" description="CRUD объёмов (все, никакие)" required="true" defaultValue="false"/>
    <column name="manage_history" phpName="ManageHistory" type="BOOLEAN" size="1" description="Управление историей" required="true" defaultValue="false"/>
    <column name="manage_users" phpName="ManageUsers" type="BOOLEAN" size="1" description="CRUD учетными записями" required="true" defaultValue="false"/>
    <foreign-key foreignTable="role" name="access_ibfk_1">
      <reference local="role_id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="groups" idMethod="native" phpName="Groups">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID группы" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="subproject_id" phpName="SubprojectId" type="INTEGER" sqlType="int unsigned" description="ID подпроекта" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="subproject" name="groups_ibfk_1">
      <reference local="subproject_id" foreign="id"/>
    </foreign-key>
    <index name="subproject_id">
      <index-column name="subproject_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="groups_version" idMethod="native" phpName="GroupsVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID группы" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="subproject_id" phpName="SubprojectId" type="INTEGER" sqlType="int unsigned" description="ID подпроекта" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="subproject_id_version" phpName="SubprojectIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="house_ids" phpName="HouseIds" type="LONGVARCHAR"/>
    <column name="house_versions" phpName="HouseVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="groups" name="groups_version_fk_48de95" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="house" idMethod="native" phpName="House">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID дома" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="group_id" phpName="GroupId" type="INTEGER" sqlType="int unsigned" description="Id группы" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="groups" name="house_ibfk_1">
      <reference local="group_id" foreign="id"/>
    </foreign-key>
    <index name="group_id">
      <index-column name="group_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="house_version" idMethod="native" phpName="HouseVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID дома" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="group_id" phpName="GroupId" type="INTEGER" sqlType="int unsigned" description="Id группы" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="group_id_version" phpName="GroupIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="stage_ids" phpName="StageIds" type="LONGVARCHAR"/>
    <column name="stage_versions" phpName="StageVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="house" name="house_version_fk_fa1e78" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="material" idMethod="native" phpName="Material">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="unit" name="material_ibfk_1">
      <reference local="unit_id" foreign="id"/>
    </foreign-key>
    <index name="unit_id">
      <index-column name="unit_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="material_version" idMethod="native" phpName="MaterialVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="stage_material_ids" phpName="StageMaterialIds" type="LONGVARCHAR"/>
    <column name="stage_material_versions" phpName="StageMaterialVersions" type="LONGVARCHAR"/>
    <column name="work_material_ids" phpName="WorkMaterialIds" type="LONGVARCHAR"/>
    <column name="work_material_versions" phpName="WorkMaterialVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="material" name="material_version_fk_8d347e" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="project" idMethod="native" phpName="Project">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID проекта" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (пуличный, приватный)" required="true" defaultValue="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="project_role" idMethod="native" phpName="ProjectRole">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID роли проекта" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="lvl" phpName="Lvl" type="TINYINT" sqlType="tinyint unsigned" description="Уровень&#10;( 1 - проекта;&#10;2 - подпроект;&#10;3 - группа;&#10;4 - дом;&#10;5 - этап )" required="true" defaultValue="1"/>
    <column name="role_id" phpName="RoleId" type="INTEGER" sqlType="int unsigned" description="ID роли" required="true"/>
    <column name="project_id" phpName="ProjectId" type="INTEGER" sqlType="int unsigned" description="ID проекта" required="true"/>
    <column name="object_id" phpName="ObjectId" type="INTEGER" sqlType="int unsigned" description="ID объекта (проект, подпроект, группа, дом, этап)" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" sqlType="int unsigned" description="ID пользователя" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="role" name="project_role_ibfk_1">
      <reference local="role_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="project" name="project_role_ibfk_2">
      <reference local="project_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="users" name="project_role_ibfk_3">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <index name="role_id">
      <index-column name="role_id"/>
    </index>
    <index name="project_id">
      <index-column name="project_id"/>
    </index>
    <index name="user_id">
      <index-column name="user_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="project_role_version" idMethod="native" phpName="ProjectRoleVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID роли проекта" primaryKey="true" required="true"/>
    <column name="lvl" phpName="Lvl" type="TINYINT" sqlType="tinyint unsigned" description="Уровень&#10;( 1 - проекта;&#10;2 - подпроект;&#10;3 - группа;&#10;4 - дом;&#10;5 - этап )" required="true" defaultValue="1"/>
    <column name="role_id" phpName="RoleId" type="INTEGER" sqlType="int unsigned" description="ID роли" required="true"/>
    <column name="project_id" phpName="ProjectId" type="INTEGER" sqlType="int unsigned" description="ID проекта" required="true"/>
    <column name="object_id" phpName="ObjectId" type="INTEGER" sqlType="int unsigned" description="ID объекта (проект, подпроект, группа, дом, этап)" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" sqlType="int unsigned" description="ID пользователя" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="project_id_version" phpName="ProjectIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="project_role" name="project_role_version_fk_c3a605" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="project_version" idMethod="native" phpName="ProjectVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID проекта" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (пуличный, приватный)" required="true" defaultValue="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="project_role_ids" phpName="ProjectRoleIds" type="LONGVARCHAR"/>
    <column name="project_role_versions" phpName="ProjectRoleVersions" type="LONGVARCHAR"/>
    <column name="subproject_ids" phpName="SubprojectIds" type="LONGVARCHAR"/>
    <column name="subproject_versions" phpName="SubprojectVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="project" name="project_version_fk_186d55" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="role" idMethod="native" phpName="Role">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID роли" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage" idMethod="native" phpName="Stage">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID этапа" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="house_id" phpName="HouseId" type="INTEGER" sqlType="int unsigned" description="ID дома" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="house" name="stage_ibfk_1">
      <reference local="house_id" foreign="id"/>
    </foreign-key>
    <index name="house_id">
      <index-column name="house_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_material" idMethod="native" phpName="StageMaterial">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала работы на этапе" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="stage_work_id" phpName="StageWorkId" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" required="true"/>
    <column name="material_id" phpName="MaterialId" type="INTEGER" sqlType="int unsigned" description="ID материала" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="material" name="stage_material_ibfk_1">
      <reference local="material_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="stage_work" name="stage_material_ibfk_2">
      <reference local="stage_work_id" foreign="id"/>
    </foreign-key>
    <index name="material_id">
      <index-column name="material_id"/>
    </index>
    <index name="stage_work_id">
      <index-column name="stage_work_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_material_version" idMethod="native" phpName="StageMaterialVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала работы на этапе" primaryKey="true" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="stage_work_id" phpName="StageWorkId" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" required="true"/>
    <column name="material_id" phpName="MaterialId" type="INTEGER" sqlType="int unsigned" description="ID материала" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="material_id_version" phpName="MaterialIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="stage_work_id_version" phpName="StageWorkIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="stage_material" name="stage_material_version_fk_b671c9" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_technic" idMethod="native" phpName="StageTechnic">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники работы" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="technic_id" phpName="TechnicId" type="INTEGER" sqlType="int unsigned" description="ID техники" required="true"/>
    <column name="stage_work_id" phpName="StageWorkId" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="stage_work" name="stage_technic_ibfk_1">
      <reference local="stage_work_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="technic" name="stage_technic_ibfk_2">
      <reference local="technic_id" foreign="id"/>
    </foreign-key>
    <index name="stage_work_id">
      <index-column name="stage_work_id"/>
    </index>
    <index name="technic_id">
      <index-column name="technic_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_technic_version" idMethod="native" phpName="StageTechnicVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники работы" primaryKey="true" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="technic_id" phpName="TechnicId" type="INTEGER" sqlType="int unsigned" description="ID техники" required="true"/>
    <column name="stage_work_id" phpName="StageWorkId" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="stage_work_id_version" phpName="StageWorkIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="technic_id_version" phpName="TechnicIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="stage_technic" name="stage_technic_version_fk_2072b7" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_version" idMethod="native" phpName="StageVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID этапа" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)&#9;" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="house_id" phpName="HouseId" type="INTEGER" sqlType="int unsigned" description="ID дома" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="house_id_version" phpName="HouseIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="stage" name="stage_version_fk_203498" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_work" idMethod="native" phpName="StageWork">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="stage_id" phpName="StageId" type="INTEGER" sqlType="int unsigned" description="ID этапа" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="stage_work_version" idMethod="native" phpName="StageWorkVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID работы этапа" primaryKey="true" required="true"/>
    <column name="stage_id" phpName="StageId" type="INTEGER" sqlType="int unsigned" description="ID этапа" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="stage_material_ids" phpName="StageMaterialIds" type="LONGVARCHAR"/>
    <column name="stage_material_versions" phpName="StageMaterialVersions" type="LONGVARCHAR"/>
    <column name="stage_technic_ids" phpName="StageTechnicIds" type="LONGVARCHAR"/>
    <column name="stage_technic_versions" phpName="StageTechnicVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="stage_work" name="stage_work_version_fk_7e51cc" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="subproject" idMethod="native" phpName="Subproject">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID подпроекта" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="project_id" phpName="ProjectId" type="INTEGER" sqlType="int unsigned" description="ID проекта" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="project" name="subproject_ibfk_1">
      <reference local="project_id" foreign="id"/>
    </foreign-key>
    <index name="project_id">
      <index-column name="project_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="subproject_version" idMethod="native" phpName="SubprojectVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID подпроекта" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="status" phpName="Status" type="CHAR" sqlType="set('in_process','completed','deleted')" description="Статус (в процессе, завершен, удален)" required="true" defaultValue="in_process"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (публичный, приватный)" required="true" defaultValue="true"/>
    <column name="project_id" phpName="ProjectId" type="INTEGER" sqlType="int unsigned" description="ID проекта" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="project_id_version" phpName="ProjectIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="groups_ids" phpName="GroupsIds" type="LONGVARCHAR"/>
    <column name="groups_versions" phpName="GroupsVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="subproject" name="subproject_version_fk_03348b" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="technic" idMethod="native" phpName="Technic">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="technic_version" idMethod="native" phpName="TechnicVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="stage_technic_ids" phpName="StageTechnicIds" type="LONGVARCHAR"/>
    <column name="stage_technic_versions" phpName="StageTechnicVersions" type="LONGVARCHAR"/>
    <column name="work_technic_ids" phpName="WorkTechnicIds" type="LONGVARCHAR"/>
    <column name="work_technic_versions" phpName="WorkTechnicVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="technic" name="technic_version_fk_9f10cd" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="unit" idMethod="native" phpName="Unit">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="users" idMethod="native" phpName="Users">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="249" required="true"/>
    <column name="phone" phpName="Phone" type="VARCHAR" size="11"/>
    <column name="password" phpName="Password" type="VARCHAR" size="255" required="true"/>
    <column name="username" phpName="Username" type="VARCHAR" size="100"/>
    <column name="status" phpName="Status" type="TINYINT" sqlType="tinyint unsigned" required="true" defaultValue="0"/>
    <column name="role_id" phpName="RoleId" type="INTEGER" sqlType="int unsigned" description="ID роли"/>
    <column name="verified" phpName="Verified" type="TINYINT" sqlType="tinyint unsigned" required="true" defaultValue="0"/>
    <column name="resettable" phpName="Resettable" type="TINYINT" sqlType="tinyint unsigned" required="true" defaultValue="1"/>
    <column name="roles_mask" phpName="RolesMask" type="INTEGER" sqlType="int unsigned" required="true" defaultValue="0"/>
    <column name="registered" phpName="Registered" type="INTEGER" sqlType="int unsigned" required="true"/>
    <column name="last_login" phpName="LastLogin" type="INTEGER" sqlType="int unsigned"/>
    <column name="force_logout" phpName="ForceLogout" type="SMALLINT" sqlType="mediumint unsigned" required="true" defaultValue="0"/>
    <foreign-key foreignTable="role" name="users_ibfk_1">
      <reference local="role_id" foreign="id"/>
    </foreign-key>
    <index name="role_id">
      <index-column name="role_id"/>
    </index>
    <unique name="email">
      <unique-column name="email"/>
    </unique>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="users_confirmations" idMethod="native" phpName="UsersConfirmations">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user_id" phpName="UserId" type="INTEGER" sqlType="int unsigned" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="249" required="true"/>
    <column name="selector" phpName="Selector" type="VARCHAR" size="16" required="true"/>
    <column name="token" phpName="Token" type="VARCHAR" size="255" required="true"/>
    <column name="expires" phpName="Expires" type="INTEGER" sqlType="int unsigned" required="true"/>
    <index name="email_expires">
      <index-column name="email"/>
      <index-column name="expires"/>
    </index>
    <index name="user_id">
      <index-column name="user_id"/>
    </index>
    <unique name="selector">
      <unique-column name="selector"/>
    </unique>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="users_remembered" idMethod="native" phpName="UsersRemembered">
    <column name="id" phpName="Id" type="BIGINT" sqlType="bigint unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user" phpName="User" type="INTEGER" sqlType="int unsigned" required="true"/>
    <column name="selector" phpName="Selector" type="VARCHAR" size="24" required="true"/>
    <column name="token" phpName="Token" type="VARCHAR" size="255" required="true"/>
    <column name="expires" phpName="Expires" type="INTEGER" sqlType="int unsigned" required="true"/>
    <index name="user">
      <index-column name="user"/>
    </index>
    <unique name="selector">
      <unique-column name="selector"/>
    </unique>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="users_resets" idMethod="native" phpName="UsersResets">
    <column name="id" phpName="Id" type="BIGINT" sqlType="bigint unsigned" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="user" phpName="User" type="INTEGER" sqlType="int unsigned" required="true"/>
    <column name="selector" phpName="Selector" type="VARCHAR" size="20" required="true"/>
    <column name="token" phpName="Token" type="VARCHAR" size="255" required="true"/>
    <column name="expires" phpName="Expires" type="INTEGER" sqlType="int unsigned" required="true"/>
    <index name="user_expires">
      <index-column name="user"/>
      <index-column name="expires"/>
    </index>
    <unique name="selector">
      <unique-column name="selector"/>
    </unique>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="users_throttling" idMethod="native" phpName="UsersThrottling">
    <column name="bucket" phpName="Bucket" type="VARCHAR" size="44" primaryKey="true" required="true"/>
    <column name="tokens" phpName="Tokens" type="FLOAT" sqlType="float unsigned" required="true"/>
    <column name="replenished_at" phpName="ReplenishedAt" type="INTEGER" sqlType="int unsigned" required="true"/>
    <column name="expires_at" phpName="ExpiresAt" type="INTEGER" sqlType="int unsigned" required="true"/>
    <index name="expires_at">
      <index-column name="expires_at"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work" idMethod="native" phpName="Work">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID работы" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="unit" name="work_ibfk_1">
      <reference local="unit_id" foreign="id"/>
    </foreign-key>
    <index name="unit_id">
      <index-column name="unit_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work_material" idMethod="native" phpName="WorkMaterial">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала работы" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="material_id" phpName="MaterialId" type="INTEGER" sqlType="int unsigned" description="ID материала" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="work" name="work_material_ibfk_1">
      <reference local="work_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="material" name="work_material_ibfk_2">
      <reference local="material_id" foreign="id"/>
    </foreign-key>
    <index name="work_id">
      <index-column name="work_id"/>
    </index>
    <index name="material_id">
      <index-column name="material_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work_material_version" idMethod="native" phpName="WorkMaterialVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID материала работы" primaryKey="true" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="material_id" phpName="MaterialId" type="INTEGER" sqlType="int unsigned" description="ID материала" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="work_id_version" phpName="WorkIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="material_id_version" phpName="MaterialIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="work_material" name="work_material_version_fk_747b8b" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work_technic" idMethod="native" phpName="WorkTechnic">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники работы" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="technic_id" phpName="TechnicId" type="INTEGER" sqlType="int unsigned" description="ID техники" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <foreign-key foreignTable="work" name="work_technic_ibfk_1">
      <reference local="work_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="technic" name="work_technic_ibfk_2">
      <reference local="technic_id" foreign="id"/>
    </foreign-key>
    <index name="work_id">
      <index-column name="work_id"/>
    </index>
    <index name="technic_id">
      <index-column name="technic_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work_technic_version" idMethod="native" phpName="WorkTechnicVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID техники работы" primaryKey="true" required="true"/>
    <column name="work_id" phpName="WorkId" type="INTEGER" sqlType="int unsigned" description="ID работы" required="true"/>
    <column name="technic_id" phpName="TechnicId" type="INTEGER" sqlType="int unsigned" description="ID техники" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="work_id_version" phpName="WorkIdVersion" type="INTEGER" defaultValue="0"/>
    <column name="technic_id_version" phpName="TechnicIdVersion" type="INTEGER" defaultValue="0"/>
    <foreign-key foreignTable="work_technic" name="work_technic_version_fk_b0d0da" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>

  <table name="work_version" idMethod="native" phpName="WorkVersion">
    <column name="id" phpName="Id" type="INTEGER" sqlType="int unsigned" description="ID работы" primaryKey="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="255" description="Наименование" required="true"/>
    <column name="price" phpName="Price" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Стоимость" required="true"/>
    <column name="amount" phpName="Amount" type="DECIMAL" size="19" scale="2" sqlType="decimal(19,2) unsigned" description="Кол-во" required="true"/>
    <column name="is_available" phpName="IsAvailable" type="BOOLEAN" size="1" description="Доступ (доступный, удаленный)" required="true" defaultValue="true"/>
    <column name="unit_id" phpName="UnitId" type="INTEGER" sqlType="int unsigned" description="ID ед. измерения" required="true"/>
    <column name="version" phpName="Version" type="INTEGER" primaryKey="true" required="true" defaultValue="0"/>
    <column name="version_created_at" phpName="VersionCreatedAt" type="TIMESTAMP"/>
    <column name="version_created_by" phpName="VersionCreatedBy" type="VARCHAR" size="100"/>
    <column name="version_comment" phpName="VersionComment" type="VARCHAR" size="255"/>
    <column name="work_material_ids" phpName="WorkMaterialIds" type="LONGVARCHAR"/>
    <column name="work_material_versions" phpName="WorkMaterialVersions" type="LONGVARCHAR"/>
    <column name="work_technic_ids" phpName="WorkTechnicIds" type="LONGVARCHAR"/>
    <column name="work_technic_versions" phpName="WorkTechnicVersions" type="LONGVARCHAR"/>
    <foreign-key foreignTable="work" name="work_version_fk_40cf0f" onDelete="CASCADE">
      <reference local="id" foreign="id"/>
    </foreign-key>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
</database>